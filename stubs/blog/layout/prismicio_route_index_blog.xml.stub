<?xml version="1.0" encoding="UTF-8" ?>
<page layout="1column" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <head>
        <title>Blog</title>
    </head>
    <body>
        <referenceContainer name="content">
            <block class="Elgentos\PrismicIO\Block\Overview" template="Elgentos_PrismicIO::blog-list.phtml" name="blog.list">
                <arguments>
                    <argument name="content_type" xsi:type="string">blog</argument>
                </arguments>

                <action method="setDocumentType">
                    <argument name="documentType" xsi:type="string">blog</argument>
                </action>
                <action method="setOptions">
                    <argument name="options" xsi:type="array">
                        <item name="orderings" xsi:type="string">[my.blog.publish_date desc]</item>
                        <item name="pageSize" xsi:type="string">20</item>
<!--                        <item name="page" xsi:type="helper" helper="Elgentos\PrismicIO\Helper\Pager::getPageFromRequest" />-->
                    </argument>
                </action>

                <block class="Elgentos\PrismicIO\Block\Group" name="blog.index" template="results">
                    <block class="Elgentos\PrismicIO\Block\Template">
                        <block class="Elgentos\PrismicIO\Block\Dom\Plain" name="blog.title" template="data.title" />
                        <block class="Elgentos\PrismicIO\Block\Dom\Plain" name="blog.photo" template="data.photo.url" />
                        <block name="blog.datetime" class="Elgentos\PrismicIO\Block\Container">
                            <block class="Elgentos\PrismicIO\Block\Dom\Date" template="data.publish_date">
                                <action method="setData">
                                    <argument name="name" xsi:type="string">format</argument>
                                    <argument name="value" xsi:type="string">3</argument>
                                </action>
                                <action method="setData">
                                    <argument name="name" xsi:type="string">showTime</argument>
                                    <argument name="value" xsi:type="string">false</argument>
                                </action>
                            </block>
                        </block>
                        <block class="Elgentos\PrismicIO\Block\Dom\Link" name="blog.link" />
                    </block>
                </block>
            </block>
        </referenceContainer>
    </body>
</page>
